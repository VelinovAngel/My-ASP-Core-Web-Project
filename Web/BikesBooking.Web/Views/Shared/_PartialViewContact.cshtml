@using BikesBooking.Common
@using BikesBooking.Data.Models
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@inject IDealersService Dealers

@if (this.SignInManager.IsSignedIn(this.User))
{
    var userId = User.GetId();
    var userIsDealer = Dealers.IsDealer(userId);
    @if (userIsDealer)
    {

        <li class="nav-item m-sm-2">
            <a class="nav-item btn" asp-controller="Contact" asp-action="ClientMessages">Messages</a>
        </li>
    }

}
else
{
    <li class="nav-item m-md-2">
        <a class="nav-item btn" asp-controller="Contact" asp-action="Contact">Contact Us</a>
    </li>
}
@if (this.User.IsInRole("Client"))
{
    <li class="nav-item m-md-2">
        <a class="nav-item btn" asp-controller="Contact" asp-action="Contact">Contact Us</a>
    </li>
}
